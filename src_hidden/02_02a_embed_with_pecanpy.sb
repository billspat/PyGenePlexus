#!/bin/bash -login
### define resources needed:
#SBATCH --time=03:50:00
#SBATCH --nodes=1
#SBATCH --mem=150G
#SBATCH --cpus-per-task=12
#SBATCH --job-name=embed
#SBATCH --account=wang-krishnan
#SBATCH --output=slurm-%x-%j.out
module load powertools
umask g+rw
module use /mnt/research/compbio/krishnanlab/modules/
export PATH="/mnt/home/mancus16/software/anaconda3/bin:$PATH"
conda activate pecanpy-pip
cd /mnt/home/mancus16/repos/PecanPy
pecanpy --input /mnt/research/compbio/krishnanlab/projects/GenePlexus/repos/GenePlexusBackend/data_backend2/Edgelists/BioGRID.edg --output /mnt/research/compbio/krishnanlab/projects/GenePlexus/repos/GenePlexusBackend/data_hidden2/embeddings/BioGRID.emd --mode SparseOTF --dimensions 512 --p 0.1 --q 0.1
pecanpy --input /mnt/research/compbio/krishnanlab/projects/GenePlexus/repos/GenePlexusBackend/data_backend2/Edgelists/STRING-EXP.edg --output /mnt/research/compbio/krishnanlab/projects/GenePlexus/repos/GenePlexusBackend/data_hidden2/embeddings/STRING-EXP.emd --mode SparseOTF --dimensions 512 --p 0.1 --q 0.1
pecanpy --input /mnt/research/compbio/krishnanlab/projects/GenePlexus/repos/GenePlexusBackend/data_backend2/Edgelists/STRING.edg --output /mnt/research/compbio/krishnanlab/projects/GenePlexus/repos/GenePlexusBackend/data_hidden2/embeddings/STRING.emd --mode SparseOTF --dimensions 512 --p 0.1 --q 0.1
